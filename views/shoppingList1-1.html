<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì¥ë¹„ì„œ</title>
  <meta name="description" content="A project that provides price data services." />
  <meta name="author" content="TMI" />
  <link rel="stylesheet" href="/styles/reset.css">
  <link rel="stylesheet" href="/styles/shoppingList1-1.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Gothic+A1:wght@300;400;500;700;800&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="icon" type="image/png" href="/assets/icons/favicon.png" />
</head>

<body>
  <header class="header" display="none">
    <!-- Navbar -->
    <nav id="navbar__vers-green">
      <div class="navbar__logo">
        <a href="/">
          <img src="/assets/icons/jang_logo_green.png" alt="ì¥ë¹„ì„œ ë¡œê³ " class="logo__green">
        </a>
      </div>
      <ul class="navbar__menu">
        <li><a href="/shoppinglist" class="navbar__menu__item active">ì‡¼í•‘ ë¦¬ìŠ¤íŠ¸</a></li>
        <li><a href="/pricedata" class="navbar__menu__item">ì˜¤ëŠ˜ì˜ ë¬¼ê°€</a></li>
        <li><a href="/accountbook" class="navbar__menu__item">ê°€ê³„ë¶€ ì •ë¦¬</a></li>
        <li><a href="/signin" class="navbar__menu__item">íšŒì›ê°€ì…</a></li>
        <li><button type="button" id="open" class="navbar__menu__login-btn">ë¡œê·¸ì¸</button></li>
      </ul>
    </nav>
  </header>
  <!-- Title bar -->
  <section id="titlebar">
    <span class="tit__sub__txt">ì¥ë³´ê¸° ì „, &nbsp</span>
    <h1>ì‡¼í•‘ë¦¬ìŠ¤íŠ¸ ë…¸íŠ¸ ğŸ“</h1>
  </section>

  <!-- Shopping List Page -->
  <section class="frame section" id="shopping-list">
    <ul class="items">
      <!-- <li class="item__list">
            <div class="item">
                <span class="item__name">ë°¤ì‹ë¹µ</span>
                <button class="item__delete">
                    <i class="material-icons">delete</i>
                </button>
            </div>
            <div class="item__divider"></div>
        </li> -->
    </ul>
    <footer class="footer">
      <input type="text" class="footer__input">
      <button class="footer__button">
        <i class="material-icons">add</i>
      </button>
    </footer>
  </section>

  <script>
    const items = document.querySelector(".items");
    const input = document.querySelector(".footer__input");
    const addBtn = document.querySelector(".footer__button");

    function onAdd() {
      //1. ì‚¬ìš©ìê°€ ì…ë ¥í•œ í…ìŠ¤íŠ¸ë¥¼ ë°›ì•„ì˜´
      const inputText = input.value;
      if (inputText === "") {
        input.focus();
        return;
      }
      //2. ìƒˆë¡œìš´ ì•„ì´í…œì„ ë§Œë“¬ (í…ìŠ¤íŠ¸ + ì‚­ì œ ë²„íŠ¼)
      const item = createItem(inputText);
      //3. items ì»¨í…Œì´ë„ˆ ì•ˆì— ìƒˆë¡œ ë§Œë“  ì•„ì´í…œì„ ì¶”ê°€í•¨
      items.appendChild(item);
      //4. ìƒˆë¡œ ì¶”ê°€ëœ ì•„ì´í…œìœ¼ë¡œ ìŠ¤í¬ë¡¤ë§
      item.scrollIntoView({ block: 'center' });
      //5. ì¸í’‹ì„ ì´ˆê¸°í™” í•¨
      input.value = "";
      input.focus();
    }

    function createItem(inputText) {
      const itemList = document.createElement("li");
      itemList.setAttribute('class', 'item__list');

      const item = document.createElement("div");
      item.setAttribute('class', 'item');

      const name = document.createElement("span");
      name.setAttribute('class', 'item__name');
      name.innerText = inputText;

      const deleteBtn = document.createElement("button");
      deleteBtn.setAttribute('class', 'item__delete');
      deleteBtn.innerHTML = `<i class="material-icons">delete</i>`;
      deleteBtn.addEventListener('click', () => {
        items.removeChild(itemList);
      })

      const itemDivider = document.createElement("div");
      itemDivider.setAttribute('class', 'item__divider');

      item.appendChild(name);
      item.appendChild(deleteBtn);

      itemList.appendChild(item);
      itemList.appendChild(itemDivider);

      return itemList;
    }

    addBtn.addEventListener('click', () => {
      onAdd();
    })

    input.addEventListener('keypress', event => {
      if (event.key === 'Enter') {
        onAdd();
      }
    })
  </script>
</body>

</html>