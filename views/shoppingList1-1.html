<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì¥ë¹„ì„œ</title>
  <meta name="description" content="A project that provides price data services." />
  <meta name="author" content="TMI" />
  <link rel="stylesheet" href="/styles/reset.css">
  <link rel="stylesheet" href="/styles/shoppingList2.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Gothic+A1:wght@300;400;500;700;800&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="icon" type="image/png" href="/assets/icons/favicon.png" />
</head>

<body>
  <header class="header" display="none">
    <!-- Navbar -->
    <nav id="navbar__vers-green">
      <div class="navbar__logo">
        <a href="/">
          <img src="/assets/icons/jang_logo_green.png" alt="ì¥ë¹„ì„œ ë¡œê³ " class="logo__green">
        </a>
      </div>
      <ul class="navbar__menu">
        <li><a href="/shoppinglist" class="navbar__menu__item active">ì‡¼í•‘ ë¦¬ìŠ¤íŠ¸</a></li>
        <li><a href="/pricedata" class="navbar__menu__item">ì˜¤ëŠ˜ì˜ ë¬¼ê°€</a></li>
        <li><a href="/accountbook" class="navbar__menu__item">ê°€ê³„ë¶€ ì •ë¦¬</a></li>
        <li><a href="/signin" class="navbar__menu__item">íšŒì›ê°€ì…</a></li>
        <li><button type="button" id="open" class="navbar__menu__login-btn">ë¡œê·¸ì¸</button></li>
      </ul>
    </nav>
  </header>
  <!-- Title bar -->
  <section id="titlebar">
    <span class="tit__sub__txt">ì¥ë³´ê¸° ì „, &nbsp</span>
    <h1>ì‡¼í•‘ë¦¬ìŠ¤íŠ¸ ë…¸íŠ¸ ğŸ“</h1>
  </section>
  <!-- Shopping List Page -->
  <section id="shopping-list" class="section">
    <div class="select-item">
      <!--  title -->
      <div class="title">
        <h1>
          ì‡¼í•‘ë¦¬ìŠ¤íŠ¸ë§Œ ì‚¬ìš©í•˜ê³  ì‹¶ì„ë•Œ !
        </h1>
      </div>
    </div>
    <!--list-->
    <div class="container">
      <ul class="list-index">
        <li>ìƒí’ˆëª…</li>
        <li>ìˆ˜ëŸ‰</li>
      </ul>
      <div class="item__divider"></div>
      <ul class="items">
        <li class="item__list">
          <div class="item">
            <button class="item__check">
              <input type="checkbox" id="check">
              <label for="check"></label>
            </button>
            <div id="item__name">ë©œë¡  ì†Œë‹¤</div>
            <div class="item__quantity">
              <button id="decrease">-</button>
              <div id="number">1</div>
              <button id="increase">+</button>
            </div>
            <button class="item__delete">
              <i class="material-icons">delete</i>
            </button>
          </div>
          <div class="item__divider"></div>
        </li>
      </ul>
      <!-- ìˆ˜ê¸°ë¡œ ì‘ì„± -->
      <footer class="footer">
        <input type="text" class="footer__input" placeholder="í•„ìš”í•œ ì¥ë³´ê¸° ëª©ë¡ì„ ì‘ì„±í•´ì£¼ì„¸ìš”!">
        <button class="footer__button">
          <i class="material-icons">add</i>
        </button>
      </footer>
    </div>
  </section>

  <script>

    //ê²€ìƒ‰ ê¸°ëŠ¥ 

    // ë¦¬ìŠ¤íŠ¸ ì¶”ê°€
    const items = document.querySelector(".items");
    const input = document.querySelector(".footer__input");
    const addBtn = document.querySelector(".footer__button");

    function onAdd() {
      //1. ì‚¬ìš©ìê°€ ì…ë ¥í•œ í…ìŠ¤íŠ¸ë¥¼ ë°›ì•„ì˜´
      const inputText = input.value;
      console.log(inputText);
      if (inputText === "") {
        input.focus();
        return;
      }
      //2. ìƒˆë¡œìš´ ì•„ì´í…œì„ ë§Œë“¬ (í…ìŠ¤íŠ¸ + ì‚­ì œ ë²„íŠ¼)
      const item = createItem(inputText);
      //3. items ì»¨í…Œì´ë„ˆ ì•ˆì— ìƒˆë¡œ ë§Œë“  ì•„ì´í…œì„ ì¶”ê°€í•¨
      items.appendChild(item);
      //4. ìƒˆë¡œ ì¶”ê°€ëœ ì•„ì´í…œìœ¼ë¡œ ìŠ¤í¬ë¡¤ë§
      item.scrollIntoView({ block: 'center' });
      //5. ì¸í’‹ì„ ì´ˆê¸°í™” í•¨
      input.value = "";
      input.focus();
    }

    function createItem(inputText) {
      const itemList = document.createElement("li");
      itemList.setAttribute('class', 'item__list');

      const item = document.createElement("div");
      item.setAttribute('class', 'item');

      // ì²´í¬ë°•ìŠ¤
      const itemCheck = document.createElement("button");
      itemCheck.setAttribute('class', 'item__check');

      const checkBox = document.createElement("input");
      checkBox.setAttribute('type', 'checkbox');
      checkBox.setAttribute('id', 'check');

      const checkLabel = document.createElement("label");
      checkLabel.setAttribute('for', 'check');

      itemCheck.appendChild(checkBox);
      itemCheck.appendChild(checkLabel);

      // ì•„ì´í…œ ìƒí’ˆëª…
      const itemName = document.createElement("div");
      itemName.setAttribute('id', 'item__name');
      itemName.innerText = inputText;

      // ì•„ì´í…œ ìˆ˜ëŸ‰
      const itemCount = document.createElement("div");
      itemCount.setAttribute('class', 'item__quantity');

      const countDecrease = document.createElement("button");
      countDecrease.setAttribute('id', 'decrease');

      const countNumber = document.createElement("div");
      countNumber.setAttribute('id', 'number');

      const countIncrease = document.createElement("button");
      countIncrease.setAttribute('id', 'increase');

      itemCount.appendChild(countDecrease);
      itemCount.appendChild(countNumber);
      itemCount.appendChild(countIncrease);

      // ì•„ì´í…œ ì‚­ì œ
      const itemDelete = document.createElement("button");
      itemDelete.setAttribute('class', 'item__delete');
      itemDelete.innerHTML = `<i class="material-icons">delete</i>`;
      itemDelete.addEventListener('click', () => {
        console.log("í´ë¦­");
        items.removeChild(itemList);
      })

      // ì•„ì´í…œ êµ¬ë¶„ì„ 
      const itemDivider = document.createElement("div");
      itemDivider.setAttribute('class', 'item__divider');

      item.appendChild(itemCheck);
      item.appendChild(itemName);
      item.appendChild(itemCount);
      item.appendChild(itemDelete);

      itemList.appendChild(item);
      itemList.appendChild(itemDivider);

      return itemList;
    }


    // // ì—ë“œ ì¶”ê°€ë²„íŠ¼ ê¸°ëŠ¥
    addBtn.addEventListener('click', () => {
      onAdd();
    })

    input.addEventListener('keypress', event => {
      if (event.key === 'Enter') {
        onAdd();
      }
    })

    // // ìˆ˜ëŸ‰
    // /* idê°€ ìˆëŠ” ê²½ìš° */
    const number = document.getElementById('number');
    const increase = document.getElementById('increase');
    const decrease = document.getElementById('decrease');

    increase.onclick = () => {
      const current = parseInt(number.innerText, 10);
      number.innerText = current + 1;
    };

    decrease.onclick = () => {
      const current = parseInt(number.innerText, 10);
      number.innerText = current - 1;
    };

        //idê°€ ì—†ëŠ” ê²½ìš°
    /* const number = document.getElementById('number');
    const buttons =document.querySelectorAll("buttons");
    const [increase, decrease] = buttons;
    
    increase.onclick = () => {
        const current = parseInt(number.innerText, 10);
        number.innerText = current + 1;
    };
    
    decrease.onclick = () => {
        const current = parseInt(number.innerText, 10);
        number.innerText = current - 1;
    }; */

  </script>
</body>

</html>